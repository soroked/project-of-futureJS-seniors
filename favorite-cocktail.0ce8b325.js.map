{"mappings":"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","sources":["src/js/favorite-cocktails/fetch-data.js","src/js/favorite-cocktails/render-list.js","src/js/favorite-cocktails/forLocalStorage.js","src/js/favorite-cocktails/main.js","src/js/favorite-cocktails/click-btn-deleted.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://drinkify.b.goit.study/api/v1/cocktails/search\"\n\n\nexport async function fetchData(letter) {\n    \n    const options = {\n        params: {\n            f: letter\n        }\n    }\n\n    try {\n        const response = await axios.get(BASE_URL, options)\n        return response\n    } catch (error) {\n        throw new Error(error)\n    }\n\n}","//? Функция рендера разметки\n\n\n\n// export function renderList(data) {\n\n//   const logo = new URL('../../img/icons.svg#icon-trash-01', import.meta.url);\n//     const icon = \"#icon-trash-01\"\n    \n//   return data\n//     .map(\n//         (el, index) =>\n//            `\n//         <li class=\"item-card-cocktails favorite-cocktails-dark-bg\" data-index=\"${index}\">\n//             <img src=\"${el.drinkThumb}\" class=\"img-card-cocktails\" width=\"307\" height=\"200\" alt=\"${el.drink.slice(0,17)}\">\n//             <div class=\"wraper-card\" >\n//             <h2 class=\"name-card-cocktails favorite-cocktails-dark\">${el.drink}</h2>\n//             <p class=\"description-card-cocktails favorite-cocktails-dark\">${el.description}</p>\n            \n//             <ul class=\"list-btn-card\">\n//             <li class=\"item-btn-card\">\n//             <button type=\"button\" class=\"btn-card-cocktails favorite-cocktails-dark favorite-cocktails-dark-bg\">Learn more</button>\n//             </li>\n//             <li class=\"item-btn-card item-card-deleted\">\n//             <button type=\"button\" class=\"btn-card-deleted favorite-cocktails-dark\">\n\n//              <svg\n            //   class=\"delete-icon\"\n            //   xmlns=\"http://www.w3.org/2000/svg\"\n            //   width=\"18\"\n            //   height=\"18\"\n            //   viewBox=\"0 0 18 18\"\n            //   fill=\"none\"\n            // >\n            //   <path\n            //     d=\"M11 4.5V3.9C11 3.05992 11 2.63988 10.8365 2.31901C10.6927 2.03677 10.4632 1.8073 10.181 1.66349C9.86012 1.5 9.44008 1.5 8.6 1.5H7.4C6.55992 1.5 6.13988 1.5 5.81901 1.66349C5.53677 1.8073 5.3073 2.03677 5.16349 2.31901C5 2.63988 5 3.05992 5 3.9V4.5M6.5 8.625V12.375M9.5 8.625V12.375M1.25 4.5H14.75M13.25 4.5V12.9C13.25 14.1601 13.25 14.7902 13.0048 15.2715C12.789 15.6948 12.4448 16.039 12.0215 16.2548C11.5402 16.5 10.9101 16.5 9.65 16.5H6.35C5.08988 16.5 4.45982 16.5 3.97852 16.2548C3.55516 16.039 3.21095 15.6948 2.99524 15.2715C2.75 14.7902 2.75 14.1601 2.75 12.9V4.5\"\n            //     stroke=\"#FDFDFF\"\n            //     stroke-width=\"1.5\"\n            //     stroke-linecap=\"round\"\n            //     stroke-linejoin=\"round\"\n            //   />\n            // </svg>\n//             </button>\n//             </li>\n//             </ul>\n//             </div>\n           \n//         </li>\n//     `\n      \n//     )\n//     .join('');\n// }\n\n\nimport { createPagination } from \"../main/pagination/pagination\";\nimport { refsM } from \"./refsM\";\n\nexport function renderMarkupCardFav(page, cardPerPage, arr, list, listPag) {\n  let firstIndex = (page - 1) * cardPerPage;\n  let lastIndex = firstIndex + cardPerPage;\n  const pageLimit = arr.slice(firstIndex, lastIndex);\n  const totalPages = Math.ceil(arr.length / cardPerPage);\n  createPagination(totalPages, page, arr, list, listPag, renderMarkupCardFav);\n\n\n\n list.innerHTML = pageLimit.map(\n    (item,ind) => {\n      const drink = item.drink.split(\" \").join(\"-\");\n      \n       return  `        \n         <li class=\"cocktail-item karina-dark-theme-bg item-card-cocktails \" data-index=\"${ind}\">\n            <img class=\"cocktail-img\" src=${item.drinkThumb} alt=${item.drink}>\n            <h3 class=\"cocktail-title karina-dark-theme\">${item.drink}</h3>\n            <p class=\"cocktail-description karina-dark-theme\">${\n              item.description\n            }</p>\n            <div class=\"button-div\">\n            <button data-value=${\n              drink\n            } class=\"button-learn-more karina-dark-theme-bg karina-dark-theme btn-learn-favorite-eduard\">LEARN MORE</button>\n          <button data-value=${item._id} class=\"button-add-fav btn-card-deleted\">\n           <svg\n              class=\"delete-icon\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 18 18\"\n              fill=\"none\"\n            >\n              <path\n                d=\"M11 4.5V3.9C11 3.05992 11 2.63988 10.8365 2.31901C10.6927 2.03677 10.4632 1.8073 10.181 1.66349C9.86012 1.5 9.44008 1.5 8.6 1.5H7.4C6.55992 1.5 6.13988 1.5 5.81901 1.66349C5.53677 1.8073 5.3073 2.03677 5.16349 2.31901C5 2.63988 5 3.05992 5 3.9V4.5M6.5 8.625V12.375M9.5 8.625V12.375M1.25 4.5H14.75M13.25 4.5V12.9C13.25 14.1601 13.25 14.7902 13.0048 15.2715C12.789 15.6948 12.4448 16.039 12.0215 16.2548C11.5402 16.5 10.9101 16.5 9.65 16.5H6.35C5.08988 16.5 4.45982 16.5 3.97852 16.2548C3.55516 16.039 3.21095 15.6948 2.99524 15.2715C2.75 14.7902 2.75 14.1601 2.75 12.9V4.5\"\n                stroke=\"#FDFDFF\"\n                stroke-width=\"1.5\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n            </svg>\n          </button>\n            </div>\n           </li>\n          \n          `; \n          }        \n    )\n    .join('');\n}\n\n","import { refsM } from \"./refsM\";\nimport { renderList } from \"./render-list\";\n\nimport { renderMarkupCardFav } from \"./render-list\";\n\n// import { updateValueBasedOnScreenWidth } from \"../main/pagination/updateValueBasedOnScreenWidth\";\n\n\n//? Функция парса локала если он есть\nexport function parseLocal(key) {\n    const local = localStorage.getItem(key);\n    let page = 1\n    // const logo = new URL('../../img/icons.svg#icon-trash-01', import.meta.url);\n    // const icon = \"#icon-trash-01\"\n    \n    try {\n          \n        if (local) {\n            // console.log(\"Не пустой локал\");\n            const json = JSON.parse(local);\n            \n            if (json.length === 0) {\n                // console.log(\"Пусто после удаления\");\n                localStorage.removeItem(\"cocktails\")\n                refsM.erroreImg.classList.remove(\"is-hidden-img-favorite\")\n                \n            }\n            \n            renderMarkupCardFav(page, 6, json, refsM.gellery, refsM.pagination)\n            \n           \n            // refsM.gellery.innerHTML = renderList(json)\n           \n            \n            \n            \n        } else{\n             refsM.erroreImg.classList.remove(\"is-hidden-img-favorite\")\n            // console.log(\"Пустой локал\");\n        }    \n        \n    } catch (error) {\n        // console.log(error);\n    }\n}\n\n\n\n// //? Функция удаления из локала по индексу\n\nexport function removeItemFromLocalStorage(key, index) {\n    \n    const local = localStorage.getItem(key);\n\n    try {\n         const jsos = JSON.parse(local);\n        jsos.splice(index, 1);\n        const updatedData = JSON.stringify(jsos);\n        localStorage.setItem(key, updatedData);\n        \n    } catch (error) {\n        // console.log(error);\n    }\n    \n}\n\n","import { fetchData } from \"./fetch-data\";\nimport { refsM } from \"./refsM\";\nimport { parseLocal } from \"./forLocalStorage\";\nimport { clickToBtn } from \"./click-btn-deleted\";\nimport { renderList } from \"./render-list\";\n\nconst bodyEl = document.body;\nconst colorSwither = document.getElementById(\"themeSwitch\");\n\nif (localStorage.getItem('switcher') === 'light' || !localStorage.getItem('switcher')) {\n    colorSwither.checked = false;\n} else {\n    colorSwither.checked = true;\n    bodyEl.classList.toggle('dark');\n    colorSwither.classList.add('dark');\n}\n\ncolorSwither.addEventListener(\"click\", () => {\n    colorSwither.classList.toggle('dark');\n    bodyEl.classList.toggle('dark');\n    if (localStorage.getItem('switcher') === 'light' || !localStorage.getItem('switcher')) {\n        localStorage.setItem('switcher', 'dark')\n    } else {\n        localStorage.setItem('switcher', 'light')\n    }\n});\n\n\n\n(() => {\n    const mobileMenu = document.querySelector('.js-menu-container');\n    const openMenuBtn = document.querySelector('.js-open-menu');\n    const closeMenuBtn = document.querySelector('.js-close-menu');\n  \n    const toggleMenu = () => {\n      const isMenuOpen =\n        openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n      openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n      mobileMenu.classList.toggle('is-open');\n  \n      const scrollLockMethod = !isMenuOpen\n        ? 'disableBodyScroll'\n        : 'enableBodyScroll';\n      bodyScrollLock[scrollLockMethod](document.body);\n    };\n  \n    openMenuBtn.addEventListener('click', toggleMenu);\n    closeMenuBtn.addEventListener('click', toggleMenu);\n  \n    window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n      if (!e.matches) return;\n      mobileMenu.classList.remove('is-open');\n      openMenuBtn.setAttribute('aria-expanded', false);\n      bodyScrollLock.enableBodyScroll(document.body);\n    });\n  })();\n\n\n//* Получаем ответ от функции fetchData(letter)\n\n// refsM.form.addEventListener(\"submit\", (e) => {\n//     e.preventDefault()\n\n//     const letter = refsM.form.elements.search.value\n\n//     if (letter === \"\") {\n//         console.log(\"Пустая строка\");\n//         return\n//     }\n    \n    \n//     returnData(letter)\n    \n// })\n\n// async function returnData(letter) {\n    \n//     try {\n//         const data = await fetchData(letter)\n//         console.log(data);\n\n//         refsM.gellery.innerHTML = renderList(data.data)\n//         const dataParse = JSON.stringify(data.data)\n//         localStorage.setItem(\"cocktails\", dataParse)\n        \n//     } catch (error) {\n\n//         console.log(\"Ошибка ответа\");\n//         refsM.gellery.innerHTML = \" \"\n//     }\n// }\n\n\nconst local = \"cocktails\" // Предполагаемый ключ локала\n\n//? Парс и проверка локала\nparseLocal(local) //* Проверка local storage\n\n\n//? Делегирование на кнопку удаления\nrefsM.gellery?.addEventListener(\"click\", (e) => {\n    \n    clickToBtn(e, local)\n       // клик по кнопке\n});\n\n\n\n","import { removeItemFromLocalStorage } from \"./forLocalStorage\";\nimport { parseLocal } from \"./forLocalStorage\";\nimport { refsM } from \"./refsM\";\nimport { modalInstanceCoctail } from \"../main/modal-windows\";\n\n// //? Функция клика по кнопке\n\nexport function clickToBtn(e, key) {\n    if (e.target.classList.contains(\"btn-card-deleted\")) {\n\n        const listItem = e.target.closest(\".item-card-cocktails\");\n        if (listItem) {\n            const index = Array.from(listItem.parentNode.children).indexOf(listItem);\n            removeItemFromLocalStorage(key, index);\n            parseLocal(key);\n            \n            showNotification(listItem)\n            \n        }\n        \n    }\n\n    if (e.target.classList.contains(\"btn-learn-favorite-eduard\")) {\n        const cocktailName = e.target.dataset.value;\n        console.log(cocktailName.replaceAll(\"-\",\" \"));\n        \n        return modalInstanceCoctail(cocktailName.replaceAll(\"-\",\" \"));\n\n    }\n}\n\n\n\n//Уведомление об удалении элемента из избранного\nfunction showNotification(item) {\n\n    const name = item.querySelector(\".cocktail-title\").textContent\n    \n    refsM.notify.textContent = `Your deleted favorites cocktails: ${name}`\n\n    refsM.notify.classList.remove(\"is-hidden-favorite\");\n\n    setTimeout(() => {\n        refsM.notify.classList.add(\"is-hidden-favorite\");\n    }, 2000);\n}\n"],"names":["parcelRequire","$aaRFF","$lkBFd","$239e77871daa97cd$export$6bd7b1942a834785","page","cardPerPage","arr","list","listPag","firstIndex","lastIndex","pageLimit","slice","totalPages","Math","ceil","length","createPagination","innerHTML","map","item","ind","drink","split","join","concat","drinkThumb","description","_id","$2c46cee4d4785cbc$export$8f9cd0cb296c8421","key","local","localStorage","getItem","json","JSON","parse","removeItem","refsM","erroreImg","classList","remove","gellery","pagination","error","$2c46cee4d4785cbc$export$78175d29db0a70bc","index","jsos","splice","updatedData","stringify","setItem","$c207edd702b6d0fe$var$ref","$e871941f66fe5221$export$d8dbbdd29e1e5592","e","target","contains","listItem","closest","Array","from","parentNode","children","indexOf","name","querySelector","textContent","notify","setTimeout","add","cocktailName","dataset","value","console","log","replaceAll","$24ctr","modalInstanceCoctail","mobileMenu","openMenuBtn","closeMenuBtn","toggleMenu","$c207edd702b6d0fe$var$bodyEl","document","body","$c207edd702b6d0fe$var$colorSwither","getElementById","checked","toggle","addEventListener","isMenuOpen","getAttribute","setAttribute","bodyScrollLock","window","matchMedia","matches","enableBodyScroll","$c207edd702b6d0fe$var$local"],"version":3,"file":"favorite-cocktail.0ce8b325.js.map"}