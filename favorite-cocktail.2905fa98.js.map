{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-bfadd63d157f9617.js","src/js/favorite-cocktails/fetch-data.js","src/js/favorite-cocktails/forLocalStorage.js","src/js/favorite-cocktails/render-list.js","node_modules/@parcel/runtime-js/lib/runtime-81377719e79deb95.js","src/js/favorite-cocktails/main.js","src/js/favorite-cocktails/click-btn-deleted.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"l5gq4\\\":\\\"favorite-cocktail.2905fa98.js\\\",\\\"hm5VY\\\":\\\"icons.33045c27.svg\\\",\\\"2KzFz\\\":\\\"index.8a007792.js\\\"}\"));","import axios from \"axios\";\n\nconst BASE_URL = \"https://drinkify.b.goit.study/api/v1/cocktails/search\"\n\n\nexport async function fetchData(letter) {\n    \n    const options = {\n        params: {\n            f: letter\n        }\n    }\n\n    try {\n        const response = await axios.get(BASE_URL, options)\n        return response\n    } catch (error) {\n        throw new Error(error)\n    }\n\n}","import { refsM } from \"./refsM\";\nimport { renderList } from \"./render-list\";\nimport { renderMarkupCard } from \"../renderMarkupCard\"\nimport { updateValueBasedOnScreenWidth } from \"../main/pagination/updateValueBasedOnScreenWidth\";\n\n\n//? Функция парса локала если он есть\nexport function parseLocal(key) {\n    const local = localStorage.getItem(key);\n    // const page = 1\n    \n    try {\n          \n        if (local) {\n            console.log(\"Не пустой локал\");\n            const json = JSON.parse(local);\n            \n            if (json.length === 0) {\n                console.log(\"Пусто после удаления\");\n                localStorage.removeItem(\"cocktails\")\n                refsM.erroreImg.classList.remove(\"is-hidden-img-favorite\")\n                \n            }\n            \n        // refsM.gellery.innerHTML = renderMarkupCard(page, updateValueBasedOnScreenWidth(), jsos, refsM.gellery, refsM.pagination);\n          \n            refsM.gellery.innerHTML = renderList(json)\n            \n        } else{\n             refsM.erroreImg.classList.remove(\"is-hidden-img-favorite\")\n            console.log(\"Пустой локал\");\n        }    \n        \n    } catch (error) {\n        console.log(error);\n    }\n}\n\n\n\n// //? Функция удаления из локала по индексу\n\nexport function removeItemFromLocalStorage(key, index) {\n    \n    const local = localStorage.getItem(key);\n\n    try {\n         const jsos = JSON.parse(local);\n        jsos.splice(index, 1);\n        const updatedData = JSON.stringify(jsos);\n        localStorage.setItem(key, updatedData);\n        \n    } catch (error) {\n        console.log(error);\n    }\n    \n}\n\n","//? Функция рендера разметки\n\n\n\nexport function renderList(data) {\n\n  const logo = new URL('../../img/icons.svg#icon-trash-01', import.meta.url);\n    const icon = \"#icon-trash-01\"\n    \n  return data\n    .map(\n        (el, index) => \n           ` \n        <li class=\"item-card-cocktails\" data-index=\"${index}\">\n            <img src=\"${el.drinkThumb}\" class=\"img-card-cocktails\" width=\"307\" height=\"200\" alt=\"${el.drink.slice(0,17)}\">\n            <div class=\"wraper-card\" >\n            <h2 class=\"name-card-cocktails\">${el.drink}</h2>\n            <p class=\"description-card-cocktails\">${el.description}</p>\n            \n            <ul class=\"list-btn-card\">\n            <li class=\"item-btn-card\">\n            <button type=\"button\" class=\"btn-card-cocktails\">Learn more</button>\n            </li>\n            <li class=\"item-btn-card item-card-deleted\">\n            <button type=\"button\" class=\"btn-card-deleted\">\n             <svg class=\"icon-card-deleted \"><use href=${logo.pathname+icon}></use></svg>\n            </button>\n            </li>\n            </ul>\n            </div>\n           \n        </li>\n    `\n      \n    )\n    .join('');\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hm5VY\")).toString();","import { fetchData } from \"./fetch-data\";\nimport { refsM } from \"./refsM\";\nimport { parseLocal } from \"./forLocalStorage\";\nimport { clickToBtn } from \"./click-btn-deleted\";\nimport { renderList } from \"./render-list\";\n\nconst bodyEl = document.body;\nconst colorSwither = document.getElementById(\"themeSwitch\");\n\nif (localStorage.getItem('switcher') === 'light') {\n    colorSwither.checked = false;\n} else {\n    colorSwither.checked = true;\n    bodyEl.classList.toggle('dark');\n    colorSwither.classList.add('dark');\n}\n\ncolorSwither.addEventListener(\"click\", () => {\n    colorSwither.classList.toggle('dark');\n    bodyEl.classList.toggle('dark');\n    if (localStorage.getItem('switcher') === 'light') {\n        localStorage.setItem('switcher', 'dark')\n    } else {\n        localStorage.setItem('switcher', 'light')\n    }\n});\n\n//* Получаем ответ от функции fetchData(letter)\n\nrefsM.form.addEventListener(\"submit\", (e) => {\n    e.preventDefault()\n\n    const letter = refsM.form.elements.search.value\n\n    if (letter === \"\") {\n        console.log(\"Пустая строка\");\n        return\n    }\n    \n    \n    returnData(letter)\n    \n})\n\nasync function returnData(letter) {\n    \n    try {\n        const data = await fetchData(letter)\n        console.log(data);\n\n        refsM.gellery.innerHTML = renderList(data.data)\n        const dataParse = JSON.stringify(data.data)\n        localStorage.setItem(\"cocktails\", dataParse)\n        \n    } catch (error) {\n\n        console.log(\"Ошибка ответа\");\n        refsM.gellery.innerHTML = \" \"\n    }\n}\n\n\nconst local = \"cocktails\" // Предполагаемый ключ локала\n\n//? Парс и проверка локала\nparseLocal(local) //* Проверка local storage\n\n\n//? Делегирование на кнопку удаления\nrefsM.gellery?.addEventListener(\"click\", (e) => {\n    \n    clickToBtn(e, local)\n       // клик по кнопке\n});\n\n\n\n","import { removeItemFromLocalStorage } from \"./forLocalStorage\";\nimport { parseLocal } from \"./forLocalStorage\";\nimport { refsM } from \"./refsM\";\n\n// //? Функция клика по кнопке\n\nexport function clickToBtn(e, key) {\n    if (e.target.classList.contains(\"btn-card-deleted\")) {\n\n        const listItem = e.target.closest(\".item-card-cocktails\");\n        if (listItem) {\n            const index = Array.from(listItem.parentNode.children).indexOf(listItem);\n            removeItemFromLocalStorage(key, index);\n            parseLocal(key);\n            \n           showNotification(listItem)\n        }\n        \n    }\n}\n\n\n\n//Уведомление об удалении элемента из избранного\nfunction showNotification(item) {\n\n    const name = item.querySelector(\".name-card-cocktails\").textContent\n    \n    refsM.notify.textContent = `Your deleted favorites cocktails: ${name}`\n\n    refsM.notify.classList.remove(\"is-hidden-favorite\");\n\n    setTimeout(() => {\n        refsM.notify.classList.add(\"is-hidden-favorite\");\n    }, 2000);\n}\n"],"names":["parcelRequire","register","JSON","parse","$2shzp","async","$e29f26e3bd0dda1f$export$8134c072fddab6a5","letter","options","params","f","default","get","error","Error","$b7Ypn","$c61e5f774c5c0bcc$export$4bf387f59bfc6d67","data","logo","URL","$c26f5e64986fd77d$exports","map","el","index","drinkThumb","drink","slice","description","pathname","join","$5d34dac60c03d77b$export$8f9cd0cb296c8421","key","local","localStorage","getItem","console","log","json","length","removeItem","refsM","erroreImg","classList","remove","gellery","innerHTML","$5d34dac60c03d77b$export$78175d29db0a70bc","jsos","splice","updatedData","stringify","setItem","resolve","import","meta","url","toString","$7978ff2f269723f2$var$ref","$bab43a839ea6e020$export$d8dbbdd29e1e5592","e","target","contains","listItem","closest","Array","from","parentNode","children","indexOf","item","name","querySelector","textContent","notify","setTimeout","add","$bab43a839ea6e020$var$showNotification","$7978ff2f269723f2$var$bodyEl","document","body","$7978ff2f269723f2$var$colorSwither","getElementById","checked","toggle","addEventListener","form","preventDefault","elements","search","value","dataParse","$7978ff2f269723f2$var$returnData"],"version":3,"file":"favorite-cocktail.2905fa98.js.map"}