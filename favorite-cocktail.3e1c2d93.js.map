{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-0f19f1ccaa4274f1.js","src/js/favorite-cocktails/main.js","src/js/favorite-cocktails/fetch-data.js","src/js/favorite-cocktails/forLocalStorage.js","src/js/favorite-cocktails/render-list.js","node_modules/@parcel/runtime-js/lib/runtime-d1023bb185749558.js","src/js/favorite-cocktails/click-btn-deleted.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"bb0yj\\\":\\\"favorite-cocktail.3e1c2d93.js\\\",\\\"d9SZC\\\":\\\"icons.33045c27.svg\\\",\\\"akQyS\\\":\\\"index.3e8622cc.js\\\"}\"));","import { fetchData } from \"./fetch-data\";\nimport { refsM } from \"./refsM\";\nimport { parseLocal } from \"./forLocalStorage\";\nimport { clickToBtn } from \"./click-btn-deleted\";\nimport { renderList } from \"./render-list\";\n\nconst bodyEl = document.body;\nconst colorSwither = document.getElementById(\"themeSwitch\");\n\nif (localStorage.getItem('switcher') === 'light') {\n    colorSwither.checked = false;\n} else {\n    colorSwither.checked = true;\n    bodyEl.classList.toggle('dark');\n    colorSwither.classList.add('dark');\n}\n\ncolorSwither.addEventListener(\"click\", () => {\n    colorSwither.classList.toggle('dark');\n    bodyEl.classList.toggle('dark');\n    if (localStorage.getItem('switcher') === 'light') {\n        localStorage.setItem('switcher', 'dark')\n    } else {\n        localStorage.setItem('switcher', 'light')\n    }\n});\n\n//* Получаем ответ от функции fetchData(letter)\n\nrefsM.form.addEventListener(\"submit\", (e) => {\n    e.preventDefault()\n\n    const letter = refsM.form.elements.search.value\n\n    if (letter === \"\") {\n        console.log(\"Пустая строка\");\n        return\n    }\n    \n    \n    returnData(letter)\n    \n})\n\nasync function returnData(letter) {\n    \n    try {\n        const data = await fetchData(letter)\n        console.log(data);\n\n        refsM.gellery.innerHTML = renderList(data.data)\n        const dataParse = JSON.stringify(data.data)\n        localStorage.setItem(\"cocktails\", dataParse)\n        \n    } catch (error) {\n\n        console.log(\"Ошибка ответа\");\n        refsM.gellery.innerHTML = \" \"\n    }\n}\n\n\nconst local = \"cocktails\" // Предполагаемый ключ локала\n\n//? Парс и проверка локала\nparseLocal(local) //* Проверка local storage\n\n\n//? Делегирование на кнопку удаления\nrefsM.gellery?.addEventListener(\"click\", (e) => {\n    \n    clickToBtn(e, local)\n       // клик по кнопке\n});\n\n\n\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://drinkify.b.goit.study/api/v1/cocktails/search\"\n\n\nexport async function fetchData(letter) {\n    \n    const options = {\n        params: {\n            f: letter\n        }\n    }\n\n    try {\n        const response = await axios.get(BASE_URL, options)\n        return response\n    } catch (error) {\n        throw new Error(error)\n    }\n\n}","import { refsM } from \"./refsM\";\nimport { renderList } from \"./render-list\";\nimport { renderMarkupCard } from \"../renderMarkupCard\"\nimport { updateValueBasedOnScreenWidth } from \"../main/pagination/updateValueBasedOnScreenWidth\";\n\n\n//? Функция парса локала если он есть\nexport function parseLocal(key) {\n    const local = localStorage.getItem(key);\n    // const page = 1\n    \n    try {\n          \n        if (local) {\n            console.log(\"Не пустой локал\");\n            const json = JSON.parse(local);\n            \n            if (json.length === 0) {\n                console.log(\"Пусто после удаления\");\n                localStorage.removeItem(\"cocktails\")\n                refsM.erroreImg.classList.remove(\"is-hidden-img-favorite\")\n                \n            }\n            \n        // refsM.gellery.innerHTML = renderMarkupCard(page, updateValueBasedOnScreenWidth(), jsos, refsM.gellery, refsM.pagination);\n          \n            refsM.gellery.innerHTML = renderList(json)\n            \n        } else{\n             refsM.erroreImg.classList.remove(\"is-hidden-img-favorite\")\n            console.log(\"Пустой локал\");\n        }    \n        \n    } catch (error) {\n        console.log(error);\n    }\n}\n\n\n\n// //? Функция удаления из локала по индексу\n\nexport function removeItemFromLocalStorage(key, index) {\n    \n    const local = localStorage.getItem(key);\n\n    try {\n         const jsos = JSON.parse(local);\n        jsos.splice(index, 1);\n        const updatedData = JSON.stringify(jsos);\n        localStorage.setItem(key, updatedData);\n        \n    } catch (error) {\n        console.log(error);\n    }\n    \n}\n\n","//? Функция рендера разметки\n\n\n\nexport function renderList(data) {\n\n  const logo = new URL('../../img/icons.svg#icon-trash-01', import.meta.url);\n    const icon = \"#icon-trash-01\"\n    \n  return data\n    .map(\n        (el, index) => \n           ` \n        <li class=\"item-card-cocktails\" data-index=\"${index}\">\n            <img src=\"${el.drinkThumb}\" class=\"img-card-cocktails\" width=\"307\" height=\"200\" alt=\"${el.drink.slice(0,17)}\">\n            <div class=\"wraper-card\" >\n            <h2 class=\"name-card-cocktails\">${el.drink}</h2>\n            <p class=\"description-card-cocktails\">${el.description}</p>\n            \n            <ul class=\"list-btn-card\">\n            <li class=\"item-btn-card\">\n            <button type=\"button\" class=\"btn-card-cocktails\">Learn more</button>\n            </li>\n            <li class=\"item-btn-card item-card-deleted\">\n            <button type=\"button\" class=\"btn-card-deleted\">\n             <svg class=\"icon-card-deleted \"><use href=${logo.pathname+icon}></use></svg>\n            </button>\n            </li>\n            </ul>\n            </div>\n           \n        </li>\n    `\n      \n    )\n    .join('');\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('bb0yj') + require('./helpers/bundle-manifest').resolve(\"d9SZC\");","import { removeItemFromLocalStorage } from \"./forLocalStorage\";\nimport { parseLocal } from \"./forLocalStorage\";\nimport { refsM } from \"./refsM\";\n\n// //? Функция клика по кнопке\n\nexport function clickToBtn(e, key) {\n    if (e.target.classList.contains(\"btn-card-deleted\")) {\n\n        const listItem = e.target.closest(\".item-card-cocktails\");\n        if (listItem) {\n            const index = Array.from(listItem.parentNode.children).indexOf(listItem);\n            removeItemFromLocalStorage(key, index);\n            parseLocal(key);\n            \n           showNotification(listItem)\n        }\n        \n    }\n}\n\n\n\n//Уведомление об удалении элемента из избранного\nfunction showNotification(item) {\n\n    const name = item.querySelector(\".name-card-cocktails\").textContent\n    \n    refsM.notify.textContent = `Your deleted favorites cocktails: ${name}`\n\n    refsM.notify.classList.remove(\"is-hidden-favorite\");\n\n    setTimeout(() => {\n        refsM.notify.classList.add(\"is-hidden-favorite\");\n    }, 2000);\n}\n"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$fc6011d84ff0d161$var$BASE_URL","$fc6011d84ff0d161$export$8134c072fddab6a5","letter","$fc6011d84ff0d161$var$_fetchData","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","options","response","params","f","$dIxxU","default","get","_ctx","sent","Error","t0","$lkBFd","$239e77871daa97cd$export$4bf387f59bfc6d67","data","logo","URL","$db306ddbcf3269f0$exports","map","el","index","concat","drinkThumb","drink","slice","description","pathname","join","$2c46cee4d4785cbc$export$8f9cd0cb296c8421","key","local","localStorage","getItem","console","log","json","length","removeItem","refsM","erroreImg","classList","remove","gellery","innerHTML","error","$2c46cee4d4785cbc$export$78175d29db0a70bc","jsos","splice","updatedData","stringify","setItem","getBundleURL","resolve","$c207edd702b6d0fe$var$ref","$e871941f66fe5221$export$d8dbbdd29e1e5592","e","target","contains","listItem","closest","Array","from","parentNode","children","indexOf","name","querySelector","textContent","notify","setTimeout","add","$c207edd702b6d0fe$var$bodyEl","document","body","$c207edd702b6d0fe$var$colorSwither","getElementById","$c207edd702b6d0fe$var$_returnData","dataParse","checked","toggle","addEventListener","form","preventDefault","elements","search","value","$c207edd702b6d0fe$var$returnData","$c207edd702b6d0fe$var$local"],"version":3,"file":"favorite-cocktail.3e1c2d93.js.map"}