{"mappings":"oeAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,sNCAzDH,EAAA,S,mBCAAI,EAAAJ,EAAA,SCIO,SAASK,EAAWC,GAEzB,MAAMC,EAAI,IAAAC,IAAAC,GAGV,OAAOH,EACJI,KACG,CAACC,EAAIC,IACF,qFACsEA,8BACzDD,EAAGE,wEAAwEF,EAAGG,MAAMC,MAAM,EAAE,sHAE9CJ,EAAGG,yFACGH,EAAGK,gdAQtBT,EAAKU,SAlB7C,qJA4BZC,KAAK,G,CD5BH,SAASC,EAAWC,GACvB,MAAMC,EAAQC,aAAaC,QAAQH,GAGnC,IAEI,GAAIC,EAAO,CAEM,MAAPG,EAAOtB,KAAKC,MAAMkB,GAEJ,IAAhBG,EAAKC,SAEaH,aAALI,WAAW,aACxBtB,EAAAuB,MAAMC,UAAUC,UAAUC,OAAO,2BAMrC1B,EAAAuB,MAAMI,QAAQC,UAAY3B,EAAWmB,E,MAGpCpB,EAAAuB,MAAMC,UAAUC,UAAUC,OAAO,yB,CAIxC,MAAOG,G,EASN,SAASC,EAA2Bd,EAAKR,GAE5C,MAAMS,EAAQC,aAAaC,QAAQH,GAEnC,IACK,MAAMe,EAAOjC,KAAKC,MAAMkB,GACzBc,EAAKC,OAAOxB,EAAO,GACnB,MAAMyB,EAAcnC,KAAKoC,UAAUH,GACnCb,aAAaiB,QAAQnB,EAAKiB,E,CAE5B,MAAOJ,G,EEpDbxB,EAAiB,IAAAD,IAAoBR,EAAA,SAAAwC,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,0BCsE/DC,E,aChEtB,SAASC,EAAWC,EAAG3B,GAC1B,GAAI2B,EAAEC,OAAOnB,UAAUoB,SAAS,oBAAqB,CAEjD,MAAMC,EAAWH,EAAEC,OAAOG,QAAQ,wBAClC,GAAID,EAAU,CAEVhB,EAA2Bd,EADbgC,MAAMC,KAAKH,EAASI,WAAWC,UAAUC,QAAQN,IAE/D/B,EAAWC,GAWvB,SAA0BqC,GAEtB,MAAMC,EAAOD,EAAKE,cAAc,wBAAwBC,YAExDxD,EAAAuB,MAAMkC,OAAOD,YAAc,qCAAqCF,IAEhEtD,EAAAuB,MAAMkC,OAAOhC,UAAUC,OAAO,sBAE9BgC,YAAW,KACP1D,EAAAuB,MAAMkC,OAAOhC,UAAUkC,IAAI,qBAAqB,GACjD,I,CAnBIC,CAAiBd,E,GDT5B,MAAMe,EAASC,SAASC,KAClBC,EAAeF,SAASG,eAAe,eAEJ,UAArC/C,aAAaC,QAAQ,aAA4BD,aAAaC,QAAQ,aAGtE6C,EAAaE,SAAU,EACvBL,EAAOpC,UAAU0C,OAAO,QACxBH,EAAavC,UAAUkC,IAAI,SAJ3BK,EAAaE,SAAU,EAO3BF,EAAaI,iBAAiB,SAAS,KACnCJ,EAAavC,UAAU0C,OAAO,QAC9BN,EAAOpC,UAAU0C,OAAO,QACiB,UAArCjD,aAAaC,QAAQ,aAA4BD,aAAaC,QAAQ,YAGtED,aAAaiB,QAAQ,WAAY,SAFjCjB,aAAaiB,QAAQ,WAAY,OAEQ,IA2CjDpB,EAHc,aAOD,QAAb0B,EAAAzC,EAAAuB,MAAMI,eAAO,IAAbc,KAAe2B,iBAAiB,SAAUzB,IAEtCD,EAAWC,EATD,YASU","sources":["node_modules/@parcel/runtime-js/lib/runtime-b99267a4719ad67b.js","src/js/favorite-cocktails/fetch-data.js","src/js/favorite-cocktails/forLocalStorage.js","src/js/favorite-cocktails/render-list.js","node_modules/@parcel/runtime-js/lib/runtime-81377719e79deb95.js","src/js/favorite-cocktails/main.js","src/js/favorite-cocktails/click-btn-deleted.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"l5gq4\\\":\\\"favorite-cocktail.de5659af.js\\\",\\\"hm5VY\\\":\\\"icons.9fef98d3.svg\\\",\\\"2KzFz\\\":\\\"index.391cb6f4.js\\\",\\\"lYlXK\\\":\\\"favorite-ingredients.afb4c120.js\\\"}\"));","import axios from \"axios\";\n\nconst BASE_URL = \"https://drinkify.b.goit.study/api/v1/cocktails/search\"\n\n\nexport async function fetchData(letter) {\n    \n    const options = {\n        params: {\n            f: letter\n        }\n    }\n\n    try {\n        const response = await axios.get(BASE_URL, options)\n        return response\n    } catch (error) {\n        throw new Error(error)\n    }\n\n}","import { refsM } from \"./refsM\";\nimport { renderList } from \"./render-list\";\nimport { renderMarkupCard } from \"../renderMarkupCard\"\nimport { updateValueBasedOnScreenWidth } from \"../main/pagination/updateValueBasedOnScreenWidth\";\n\n\n//? Функция парса локала если он есть\nexport function parseLocal(key) {\n    const local = localStorage.getItem(key);\n    // const page = 1\n    \n    try {\n          \n        if (local) {\n            // console.log(\"Не пустой локал\");\n            const json = JSON.parse(local);\n            \n            if (json.length === 0) {\n                // console.log(\"Пусто после удаления\");\n                localStorage.removeItem(\"cocktails\")\n                refsM.erroreImg.classList.remove(\"is-hidden-img-favorite\")\n                \n            }\n            \n        // refsM.gellery.innerHTML = renderMarkupCard(page, updateValueBasedOnScreenWidth(), jsos, refsM.gellery, refsM.pagination);\n          \n            refsM.gellery.innerHTML = renderList(json)\n            \n        } else{\n             refsM.erroreImg.classList.remove(\"is-hidden-img-favorite\")\n            // console.log(\"Пустой локал\");\n        }    \n        \n    } catch (error) {\n        // console.log(error);\n    }\n}\n\n\n\n// //? Функция удаления из локала по индексу\n\nexport function removeItemFromLocalStorage(key, index) {\n    \n    const local = localStorage.getItem(key);\n\n    try {\n         const jsos = JSON.parse(local);\n        jsos.splice(index, 1);\n        const updatedData = JSON.stringify(jsos);\n        localStorage.setItem(key, updatedData);\n        \n    } catch (error) {\n        // console.log(error);\n    }\n    \n}\n\n","//? Функция рендера разметки\n\n\n\nexport function renderList(data) {\n\n  const logo = new URL('../../img/icons.svg#icon-trash-01', import.meta.url);\n    const icon = \"#icon-trash-01\"\n    \n  return data\n    .map(\n        (el, index) => \n           ` \n        <li class=\"item-card-cocktails favorite-cocktails-dark-bg\" data-index=\"${index}\">\n            <img src=\"${el.drinkThumb}\" class=\"img-card-cocktails\" width=\"307\" height=\"200\" alt=\"${el.drink.slice(0,17)}\">\n            <div class=\"wraper-card\" >\n            <h2 class=\"name-card-cocktails favorite-cocktails-dark\">${el.drink}</h2>\n            <p class=\"description-card-cocktails favorite-cocktails-dark\">${el.description}</p>\n            \n            <ul class=\"list-btn-card\">\n            <li class=\"item-btn-card\">\n            <button type=\"button\" class=\"btn-card-cocktails favorite-cocktails-dark favorite-cocktails-dark-bg\">Learn more</button>\n            </li>\n            <li class=\"item-btn-card item-card-deleted\">\n            <button type=\"button\" class=\"btn-card-deleted favorite-cocktails-dark\">\n             <svg class=\"icon-card-deleted \"><use href=${logo.pathname+icon}></use></svg>\n            </button>\n            </li>\n            </ul>\n            </div>\n           \n        </li>\n    `\n      \n    )\n    .join('');\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hm5VY\")).toString();","import { fetchData } from \"./fetch-data\";\nimport { refsM } from \"./refsM\";\nimport { parseLocal } from \"./forLocalStorage\";\nimport { clickToBtn } from \"./click-btn-deleted\";\nimport { renderList } from \"./render-list\";\n\nconst bodyEl = document.body;\nconst colorSwither = document.getElementById(\"themeSwitch\");\n\nif (localStorage.getItem('switcher') === 'light' || !localStorage.getItem('switcher')) {\n    colorSwither.checked = false;\n} else {\n    colorSwither.checked = true;\n    bodyEl.classList.toggle('dark');\n    colorSwither.classList.add('dark');\n}\n\ncolorSwither.addEventListener(\"click\", () => {\n    colorSwither.classList.toggle('dark');\n    bodyEl.classList.toggle('dark');\n    if (localStorage.getItem('switcher') === 'light' || !localStorage.getItem('switcher')) {\n        localStorage.setItem('switcher', 'dark')\n    } else {\n        localStorage.setItem('switcher', 'light')\n    }\n});\n\n\n//* Получаем ответ от функции fetchData(letter)\n\n// refsM.form.addEventListener(\"submit\", (e) => {\n//     e.preventDefault()\n\n//     const letter = refsM.form.elements.search.value\n\n//     if (letter === \"\") {\n//         console.log(\"Пустая строка\");\n//         return\n//     }\n    \n    \n//     returnData(letter)\n    \n// })\n\n// async function returnData(letter) {\n    \n//     try {\n//         const data = await fetchData(letter)\n//         console.log(data);\n\n//         refsM.gellery.innerHTML = renderList(data.data)\n//         const dataParse = JSON.stringify(data.data)\n//         localStorage.setItem(\"cocktails\", dataParse)\n        \n//     } catch (error) {\n\n//         console.log(\"Ошибка ответа\");\n//         refsM.gellery.innerHTML = \" \"\n//     }\n// }\n\n\nconst local = \"cocktails\" // Предполагаемый ключ локала\n\n//? Парс и проверка локала\nparseLocal(local) //* Проверка local storage\n\n\n//? Делегирование на кнопку удаления\nrefsM.gellery?.addEventListener(\"click\", (e) => {\n    \n    clickToBtn(e, local)\n       // клик по кнопке\n});\n\n\n\n","import { removeItemFromLocalStorage } from \"./forLocalStorage\";\nimport { parseLocal } from \"./forLocalStorage\";\nimport { refsM } from \"./refsM\";\n\n// //? Функция клика по кнопке\n\nexport function clickToBtn(e, key) {\n    if (e.target.classList.contains(\"btn-card-deleted\")) {\n\n        const listItem = e.target.closest(\".item-card-cocktails\");\n        if (listItem) {\n            const index = Array.from(listItem.parentNode.children).indexOf(listItem);\n            removeItemFromLocalStorage(key, index);\n            parseLocal(key);\n            \n           showNotification(listItem)\n        }\n        \n    }\n}\n\n\n\n//Уведомление об удалении элемента из избранного\nfunction showNotification(item) {\n\n    const name = item.querySelector(\".name-card-cocktails\").textContent\n    \n    refsM.notify.textContent = `Your deleted favorites cocktails: ${name}`\n\n    refsM.notify.classList.remove(\"is-hidden-favorite\");\n\n    setTimeout(() => {\n        refsM.notify.classList.add(\"is-hidden-favorite\");\n    }, 2000);\n}\n"],"names":["parcelRequire","register","JSON","parse","$b7Ypn","$c61e5f774c5c0bcc$export$4bf387f59bfc6d67","data","logo","URL","$c26f5e64986fd77d$exports","map","el","index","drinkThumb","drink","slice","description","pathname","join","$5d34dac60c03d77b$export$8f9cd0cb296c8421","key","local","localStorage","getItem","json","length","removeItem","refsM","erroreImg","classList","remove","gellery","innerHTML","error","$5d34dac60c03d77b$export$78175d29db0a70bc","jsos","splice","updatedData","stringify","setItem","resolve","import","meta","url","toString","$7978ff2f269723f2$var$ref","$bab43a839ea6e020$export$d8dbbdd29e1e5592","e","target","contains","listItem","closest","Array","from","parentNode","children","indexOf","item","name","querySelector","textContent","notify","setTimeout","add","$bab43a839ea6e020$var$showNotification","$7978ff2f269723f2$var$bodyEl","document","body","$7978ff2f269723f2$var$colorSwither","getElementById","checked","toggle","addEventListener"],"version":3,"file":"favorite-cocktail.de5659af.js.map"}