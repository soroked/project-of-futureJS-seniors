{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,GCAAD,EAAAC,EAAA,S,YAMO,SAASC,EAAWC,GACzB,IAAMC,EAAQC,aAAaC,QAAQH,GAGnC,IACE,GAAIC,EAAO,CACT,IAAMG,EAAOC,KAAKC,MAAML,GAEJ,IAAhBG,EAAKG,SACPL,aAAaM,WAAW,aACxBX,EAAAY,MAAMC,UAAUC,UAAUC,OAAO,4BAGnC,EAAAC,EAAAC,qBAXO,EAWmB,EAAGV,EAAMP,EAAAY,MAAMM,QAASlB,EAAAY,MAAMO,W,MAExDnB,EAAAY,MAAMC,UAAUC,UAAUC,OAAO,yBAErB,CAAd,MAAOK,GAAO,C,CAKX,SAASC,EAA2BlB,EAAKmB,GAC9C,IAAMlB,EAAQC,aAAaC,QAAQH,GAEnC,IACE,IAAMoB,EAAOf,KAAKC,MAAML,GACxBmB,EAAKC,OAAOF,EAAO,GACnB,IAAMG,EAAcjB,KAAKkB,UAAUH,GACnClB,aAAasB,QAAQxB,EAAKsB,EACZ,CAAd,MAAOL,GAAO,C,kBDzBWQ,E,aEHtB,SAASC,EAAWC,EAAG3B,GAC5B,GAAI2B,EAAEC,OAAOjB,UAAUkB,SAAS,oBAAqB,CACnD,IAAMC,EAAWH,EAAEC,OAAOG,QAAQ,wBAClC,GAAID,EAEFZ,EAA2BlB,EADbgC,MAAMC,KAAKH,EAASI,WAAWC,UAAUC,QAAQN,IAE/D/B,EAAWC,GAmBTqC,EAlBeP,EAkBHQ,cAAc,mBAAmBC,YAEnD1C,EAAAY,MAAM+B,OAAOD,YAAc,qCAA0CE,OAALJ,GAEhExC,EAAAY,MAAM+B,OAAO7B,UAAUC,OAAO,sBAE9B8B,YAAW,WACT7C,EAAAY,MAAM+B,OAAO7B,UAAUgC,IAAI,qB,GAC1B,KAxBCC,YAAcvC,KAAKC,MAAMJ,aAAaC,QAAQ,cACzCyC,aACHC,SAASC,Q,CAajB,IACQT,EATN,GAAIV,EAAEC,OAAOjB,UAAUkB,SAAS,6BAA8B,CAC5D,IAAMkB,EAAepB,EAAEC,OAAOoB,QAAQC,MAEtC,OAAO,EAAAC,EAAAC,sBAAqBJ,EAAaK,WAAW,IAAK,K,wBFtB7D,IAAMC,EAAQ,YAGdtD,EAAWsD,GAGE,QAAb5B,EAAA5B,EAAAY,MAAMM,eAAO,IAAbU,KAAe6B,iBAAiB,SAAS,SAAA3B,GACvCD,EAAWC,EAAG0B,E","sources":["src/js/favorite-cocktails/main.js","src/js/favorite-cocktails/forLocalStorage.js","src/js/favorite-cocktails/click-btn-deleted.js"],"sourcesContent":["import { refsM } from './refsM';\nimport { parseLocal } from './forLocalStorage';\nimport { clickToBtn } from './click-btn-deleted';\nimport { renderList } from './render-list';\n\nconst local = 'cocktails'; // Предполагаемый ключ локала\n\n//? Парс и проверка локала\nparseLocal(local); //* Проверка local storage\n\n//? Делегирование на кнопку удаления\nrefsM.gellery?.addEventListener('click', e => {\n  clickToBtn(e, local);\n  // клик по кнопке\n});\n","import { refsM } from './refsM';\nimport { renderMarkupCardFav } from './render-list';\n\n// import { updateValueBasedOnScreenWidth } from \"../main/pagination/updateValueBasedOnScreenWidth\";\n\n//? Функция парса локала если он есть\nexport function parseLocal(key) {\n  const local = localStorage.getItem(key);\n  let page = 1;\n\n  try {\n    if (local) {\n      const json = JSON.parse(local);\n\n      if (json.length === 0) {\n        localStorage.removeItem('cocktails');\n        refsM.erroreImg.classList.remove('is-hidden-img-favorite');\n      }\n\n      renderMarkupCardFav(page, 6, json, refsM.gellery, refsM.pagination);\n    } else {\n      refsM.erroreImg.classList.remove('is-hidden-img-favorite');\n    }\n  } catch (error) {}\n}\n\n// //? Функция удаления из локала по индексу\n\nexport function removeItemFromLocalStorage(key, index) {\n  const local = localStorage.getItem(key);\n\n  try {\n    const jsos = JSON.parse(local);\n    jsos.splice(index, 1);\n    const updatedData = JSON.stringify(jsos);\n    localStorage.setItem(key, updatedData);\n  } catch (error) {}\n}\n","import { removeItemFromLocalStorage } from './forLocalStorage';\nimport { parseLocal } from './forLocalStorage';\nimport { refsM } from './refsM';\nimport { modalInstanceCoctail } from '../main/modal-windows';\nimport renderMarkupCardFav from './render-list';\n\n// //? Функция клика по кнопке\n\nexport function clickToBtn(e, key) {\n  if (e.target.classList.contains('btn-card-deleted')) {\n    const listItem = e.target.closest('.item-card-cocktails');\n    if (listItem) {\n      const index = Array.from(listItem.parentNode.children).indexOf(listItem);\n      removeItemFromLocalStorage(key, index);\n      parseLocal(key);\n      showNotification(listItem);\n\n      ingredients = JSON.parse(localStorage.getItem('cocktails'));\n      if (!ingredients) {\n        location.reload();\n      }\n    }\n  }\n\n  if (e.target.classList.contains('btn-learn-favorite-eduard')) {\n    const cocktailName = e.target.dataset.value;\n\n    return modalInstanceCoctail(cocktailName.replaceAll('+', ' '));\n  }\n}\n\n//Уведомление об удалении элемента из избранного\nfunction showNotification(item) {\n  const name = item.querySelector('.cocktail-title').textContent;\n\n  refsM.notify.textContent = `Your deleted favorites cocktails: ${name}`;\n\n  refsM.notify.classList.remove('is-hidden-favorite');\n\n  setTimeout(() => {\n    refsM.notify.classList.add('is-hidden-favorite');\n  }, 2000);\n}\n"],"names":["$lkBFd","parcelRequire","$2c46cee4d4785cbc$export$8f9cd0cb296c8421","key","local","localStorage","getItem","json","JSON","parse","length","removeItem","refsM","erroreImg","classList","remove","$33B9a","renderMarkupCardFav","gellery","pagination","error","$2c46cee4d4785cbc$export$78175d29db0a70bc","index","jsos","splice","updatedData","stringify","setItem","$c207edd702b6d0fe$var$ref","$e871941f66fe5221$export$d8dbbdd29e1e5592","e","target","contains","listItem","closest","Array","from","parentNode","children","indexOf","name","querySelector","textContent","notify","concat","setTimeout","add","ingredients","location","reload","cocktailName","dataset","value","$24ctr","modalInstanceCoctail","replaceAll","$c207edd702b6d0fe$var$local","addEventListener"],"version":3,"file":"favorite-cocktail.f5ef423b.js.map"}