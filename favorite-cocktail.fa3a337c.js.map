{"mappings":"gfAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,sNCAzDH,EAAA,S,yCCAAI,EAAAJ,EAAA,SAOO,SAASK,EAAWC,GACvB,ICJuBC,EAEnBC,EDEEC,EAAQC,aAAaC,QAAQL,GAGnC,IAEI,GAAIG,EAAO,CAEM,IAAPG,EAAOV,KAAKC,MAAMM,GAEJ,IAAhBG,EAAKC,SAEaH,aAALI,WAAW,aACxBV,EAAAW,MAAMC,UAAUC,UAAUC,OAAO,2BAMrCd,EAAAW,MAAMI,QAAQC,WCtBCb,EDsBsBK,ECpBzCJ,EAAI,IAAAa,IAAAC,GAGHf,EACJgB,KACG,SAACC,EAAIC,G,MACF,qFAEaC,OADyDD,EAAM,8BACYC,OAA3EF,EAAGG,WAAW,+DAEgCD,OAF6BF,EAAGI,MAAMC,MAAM,EAAE,IAAI,oHAG5CH,OADNF,EAAGI,MAAM,qFAStBF,OARmBF,EAAGM,YAAY,scAQfJ,OAAnBlB,EAAKuB,SAlB7C,iBAkB2D,mI,IAUvEC,KAAK,I,MDNG5B,EAAAW,MAAMC,UAAUC,UAAUC,OAAO,yB,CAIxC,MAAOe,G,EASN,SAASC,EAA2B5B,EAAKmB,GAE5C,IAAMhB,EAAQC,aAAaC,QAAQL,GAEnC,IACK,IAAM6B,EAAOjC,KAAKC,MAAMM,GACzB0B,EAAKC,OAAOX,EAAO,GACnB,IAAMY,EAAcnC,KAAKoC,UAAUH,GACnCzB,aAAa6B,QAAQjC,EAAK+B,E,CAE5B,MAAOJ,G,EEpDbX,EAAiBtB,EAAA,SAAAwC,aAA6C,SAAWxC,EAAA,SAAAyC,QAA6C,S,0BCsEzFC,E,aChEtB,SAASC,EAAWC,EAAGtC,GAC1B,GAAIsC,EAAEC,OAAO5B,UAAU6B,SAAS,oBAAqB,CAEjD,IAAMC,EAAWH,EAAEC,OAAOG,QAAQ,wBAClC,GAAID,EAEAb,EAA2B5B,EADb2C,MAAMC,KAAKH,EAASI,WAAWC,UAAUC,QAAQN,IAE/D1C,EAAWC,GAabgD,EAXkBP,EAWNQ,cAAc,wBAAwBC,YAExDpD,EAAAW,MAAM0C,OAAOD,YAAc,qCAA0C9B,OAAL4B,GAEhElD,EAAAW,MAAM0C,OAAOxC,UAAUC,OAAO,sBAE9BwC,YAAW,WACPtD,EAAAW,MAAM0C,OAAOxC,UAAU0C,IAAI,qB,GAC5B,I,CAVP,IAEUL,C,CDpBV,IAAMM,EAASC,SAASC,KAClBC,EAAeF,SAASG,eAAe,eAEJ,UAArCtD,aAAaC,QAAQ,aAA4BD,aAAaC,QAAQ,aAGtEoD,EAAaE,SAAU,EACvBL,EAAO3C,UAAUiD,OAAO,QACxBH,EAAa9C,UAAU0C,IAAI,SAJ3BI,EAAaE,SAAU,EAO3BF,EAAaI,iBAAiB,SAAS,WACnCJ,EAAa9C,UAAUiD,OAAO,QAC9BN,EAAO3C,UAAUiD,OAAO,QACiB,UAArCxD,aAAaC,QAAQ,aAA4BD,aAAaC,QAAQ,YAGtED,aAAa6B,QAAQ,WAAY,SAFjC7B,aAAa6B,QAAQ,WAAY,O,IA0CzC,IAAM6B,EAAQ,YAGd/D,EAAW+D,GAIE,QAAb1B,EAAAtC,EAAAW,MAAMI,eAAO,IAAbuB,KAAeyB,iBAAiB,SAAS,SAACvB,GAEtCD,EAAWC,EAAGwB,E","sources":["node_modules/@parcel/runtime-js/lib/runtime-68ae5e9e18580bd0.js","src/js/favorite-cocktails/fetch-data.js","src/js/favorite-cocktails/forLocalStorage.js","src/js/favorite-cocktails/render-list.js","node_modules/@parcel/runtime-js/lib/runtime-d1023bb185749558.js","src/js/favorite-cocktails/main.js","src/js/favorite-cocktails/click-btn-deleted.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"bb0yj\\\":\\\"favorite-cocktail.fa3a337c.js\\\",\\\"d9SZC\\\":\\\"icons.9fef98d3.svg\\\",\\\"i0yIm\\\":\\\"favorite-ingredients.cdfecd33.js\\\",\\\"akQyS\\\":\\\"index.874a4002.js\\\"}\"));","import axios from \"axios\";\n\nconst BASE_URL = \"https://drinkify.b.goit.study/api/v1/cocktails/search\"\n\n\nexport async function fetchData(letter) {\n    \n    const options = {\n        params: {\n            f: letter\n        }\n    }\n\n    try {\n        const response = await axios.get(BASE_URL, options)\n        return response\n    } catch (error) {\n        throw new Error(error)\n    }\n\n}","import { refsM } from \"./refsM\";\nimport { renderList } from \"./render-list\";\nimport { renderMarkupCard } from \"../renderMarkupCard\"\nimport { updateValueBasedOnScreenWidth } from \"../main/pagination/updateValueBasedOnScreenWidth\";\n\n\n//? Функция парса локала если он есть\nexport function parseLocal(key) {\n    const local = localStorage.getItem(key);\n    // const page = 1\n    \n    try {\n          \n        if (local) {\n            // console.log(\"Не пустой локал\");\n            const json = JSON.parse(local);\n            \n            if (json.length === 0) {\n                // console.log(\"Пусто после удаления\");\n                localStorage.removeItem(\"cocktails\")\n                refsM.erroreImg.classList.remove(\"is-hidden-img-favorite\")\n                \n            }\n            \n        // refsM.gellery.innerHTML = renderMarkupCard(page, updateValueBasedOnScreenWidth(), jsos, refsM.gellery, refsM.pagination);\n          \n            refsM.gellery.innerHTML = renderList(json)\n            \n        } else{\n             refsM.erroreImg.classList.remove(\"is-hidden-img-favorite\")\n            // console.log(\"Пустой локал\");\n        }    \n        \n    } catch (error) {\n        // console.log(error);\n    }\n}\n\n\n\n// //? Функция удаления из локала по индексу\n\nexport function removeItemFromLocalStorage(key, index) {\n    \n    const local = localStorage.getItem(key);\n\n    try {\n         const jsos = JSON.parse(local);\n        jsos.splice(index, 1);\n        const updatedData = JSON.stringify(jsos);\n        localStorage.setItem(key, updatedData);\n        \n    } catch (error) {\n        // console.log(error);\n    }\n    \n}\n\n","//? Функция рендера разметки\n\n\n\nexport function renderList(data) {\n\n  const logo = new URL('../../img/icons.svg#icon-trash-01', import.meta.url);\n    const icon = \"#icon-trash-01\"\n    \n  return data\n    .map(\n        (el, index) => \n           ` \n        <li class=\"item-card-cocktails favorite-cocktails-dark-bg\" data-index=\"${index}\">\n            <img src=\"${el.drinkThumb}\" class=\"img-card-cocktails\" width=\"307\" height=\"200\" alt=\"${el.drink.slice(0,17)}\">\n            <div class=\"wraper-card\" >\n            <h2 class=\"name-card-cocktails favorite-cocktails-dark\">${el.drink}</h2>\n            <p class=\"description-card-cocktails favorite-cocktails-dark\">${el.description}</p>\n            \n            <ul class=\"list-btn-card\">\n            <li class=\"item-btn-card\">\n            <button type=\"button\" class=\"btn-card-cocktails favorite-cocktails-dark favorite-cocktails-dark-bg\">Learn more</button>\n            </li>\n            <li class=\"item-btn-card item-card-deleted\">\n            <button type=\"button\" class=\"btn-card-deleted favorite-cocktails-dark\">\n             <svg class=\"icon-card-deleted \"><use href=${logo.pathname+icon}></use></svg>\n            </button>\n            </li>\n            </ul>\n            </div>\n           \n        </li>\n    `\n      \n    )\n    .join('');\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('bb0yj') + require('./helpers/bundle-manifest').resolve(\"d9SZC\");","import { fetchData } from \"./fetch-data\";\nimport { refsM } from \"./refsM\";\nimport { parseLocal } from \"./forLocalStorage\";\nimport { clickToBtn } from \"./click-btn-deleted\";\nimport { renderList } from \"./render-list\";\n\nconst bodyEl = document.body;\nconst colorSwither = document.getElementById(\"themeSwitch\");\n\nif (localStorage.getItem('switcher') === 'light' || !localStorage.getItem('switcher')) {\n    colorSwither.checked = false;\n} else {\n    colorSwither.checked = true;\n    bodyEl.classList.toggle('dark');\n    colorSwither.classList.add('dark');\n}\n\ncolorSwither.addEventListener(\"click\", () => {\n    colorSwither.classList.toggle('dark');\n    bodyEl.classList.toggle('dark');\n    if (localStorage.getItem('switcher') === 'light' || !localStorage.getItem('switcher')) {\n        localStorage.setItem('switcher', 'dark')\n    } else {\n        localStorage.setItem('switcher', 'light')\n    }\n});\n\n\n//* Получаем ответ от функции fetchData(letter)\n\n// refsM.form.addEventListener(\"submit\", (e) => {\n//     e.preventDefault()\n\n//     const letter = refsM.form.elements.search.value\n\n//     if (letter === \"\") {\n//         console.log(\"Пустая строка\");\n//         return\n//     }\n    \n    \n//     returnData(letter)\n    \n// })\n\n// async function returnData(letter) {\n    \n//     try {\n//         const data = await fetchData(letter)\n//         console.log(data);\n\n//         refsM.gellery.innerHTML = renderList(data.data)\n//         const dataParse = JSON.stringify(data.data)\n//         localStorage.setItem(\"cocktails\", dataParse)\n        \n//     } catch (error) {\n\n//         console.log(\"Ошибка ответа\");\n//         refsM.gellery.innerHTML = \" \"\n//     }\n// }\n\n\nconst local = \"cocktails\" // Предполагаемый ключ локала\n\n//? Парс и проверка локала\nparseLocal(local) //* Проверка local storage\n\n\n//? Делегирование на кнопку удаления\nrefsM.gellery?.addEventListener(\"click\", (e) => {\n    \n    clickToBtn(e, local)\n       // клик по кнопке\n});\n\n\n\n","import { removeItemFromLocalStorage } from \"./forLocalStorage\";\nimport { parseLocal } from \"./forLocalStorage\";\nimport { refsM } from \"./refsM\";\n\n// //? Функция клика по кнопке\n\nexport function clickToBtn(e, key) {\n    if (e.target.classList.contains(\"btn-card-deleted\")) {\n\n        const listItem = e.target.closest(\".item-card-cocktails\");\n        if (listItem) {\n            const index = Array.from(listItem.parentNode.children).indexOf(listItem);\n            removeItemFromLocalStorage(key, index);\n            parseLocal(key);\n            \n           showNotification(listItem)\n        }\n        \n    }\n}\n\n\n\n//Уведомление об удалении элемента из избранного\nfunction showNotification(item) {\n\n    const name = item.querySelector(\".name-card-cocktails\").textContent\n    \n    refsM.notify.textContent = `Your deleted favorites cocktails: ${name}`\n\n    refsM.notify.classList.remove(\"is-hidden-favorite\");\n\n    setTimeout(() => {\n        refsM.notify.classList.add(\"is-hidden-favorite\");\n    }, 2000);\n}\n"],"names":["parcelRequire","register","JSON","parse","$lkBFd","$2c46cee4d4785cbc$export$8f9cd0cb296c8421","key","data","logo","local","localStorage","getItem","json","length","removeItem","refsM","erroreImg","classList","remove","gellery","innerHTML","URL","$db306ddbcf3269f0$exports","map","el","index","concat","drinkThumb","drink","slice","description","pathname","join","error","$2c46cee4d4785cbc$export$78175d29db0a70bc","jsos","splice","updatedData","stringify","setItem","getBundleURL","resolve","$c207edd702b6d0fe$var$ref","$e871941f66fe5221$export$d8dbbdd29e1e5592","e","target","contains","listItem","closest","Array","from","parentNode","children","indexOf","name","querySelector","textContent","notify","setTimeout","add","$c207edd702b6d0fe$var$bodyEl","document","body","$c207edd702b6d0fe$var$colorSwither","getElementById","checked","toggle","addEventListener","$c207edd702b6d0fe$var$local"],"version":3,"file":"favorite-cocktail.fa3a337c.js.map"}