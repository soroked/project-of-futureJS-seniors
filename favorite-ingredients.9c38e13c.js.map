{"mappings":"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","sources":["src/js/favorite-ingredients.js","src/js/createMarkup.js"],"sourcesContent":["import {\n  addToFavorites,\n  removeFromFavoritesByIndex,\n} from './localstorage-fav-ingredients';\nimport { renderMarkupCardIng } from './createMarkup';\n\nconst notFoundContainer = document.querySelector('.not-found-container');\nconst ingredientsGallery = document.querySelector('.ingredients-gallery');\nconst listPag = document.querySelector('.pagination-list-ing');\n\nlet page = 1;\n\nconst bodyEl = document.body;\nconst colorSwitcher = document.getElementById('themeSwitch');\nif (\n  localStorage.getItem('switcher') === 'light' ||\n  !localStorage.getItem('switcher')\n) {\n  colorSwitcher.checked = false;\n} else {\n  colorSwitcher.checked = true;\n  bodyEl.classList.toggle('dark');\n  colorSwitcher.classList.add('dark');\n}\ncolorSwitcher.addEventListener('click', () => {\n  colorSwitcher.classList.toggle('dark');\n  bodyEl.classList.toggle('dark');\n  if (\n    localStorage.getItem('switcher') === 'light' ||\n    !localStorage.getItem('switcher')\n  ) {\n    localStorage.setItem('switcher', 'dark');\n  } else {\n    localStorage.setItem('switcher', 'light');\n  }\n});\n\nlet ingredients = JSON.parse(localStorage.getItem('favorites'));\n\nif (ingredients.length === 0) {\n  notFoundContainer.classList.remove('fav-ingr-is-hidden');\n} else {\n  notFoundContainer.classList.add('fav-ingr-is-hidden');\n\n  renderMarkupCardIng(page, 6, ingredients, ingredientsGallery, listPag);\n}\n\ningredientsGallery.addEventListener('click', onDeleteButtonHandler);\n\n\n\n\nfunction onDeleteButtonHandler(event) {\n  ingredients = JSON.parse(localStorage.getItem('favorites'));\n\n  let targetElement = event.target;\n\n  if (targetElement.classList.contains('delete-icon')) {\n    targetElement = targetElement.closest('.delete-btn');\n  }\n\n  if (targetElement.classList.contains('add-to-favorites')) {\n    const ingredientId = targetElement.getAttribute('data-id');\n    const selectedIngredient = ingredients.find(\n      ingredient => ingredient._id === ingredientId\n    );\n\n    if (selectedIngredient) {\n      addToFavorites(selectedIngredient);\n    }\n  } else if (targetElement.classList.contains('delete-btn')) {\n    const ingredientId = targetElement.getAttribute('data-id');\n    const selectedIngredientIndex = ingredients.findIndex(\n      ingredient => ingredient._id === ingredientId\n    );\n\n    if (selectedIngredientIndex !== -1) {\n      let ingredientsHasElem = removeFromFavoritesByIndex(\n        selectedIngredientIndex\n      );\n      targetElement.closest('.ingredient-card').remove();\n      if (!ingredientsHasElem) {\n        notFoundContainer.classList.remove('fav-ingr-is-hidden');\n      }\n    }\n  } else if (targetElement.classList.contains('learn-more-btn')) {\n    const ingredientId = targetElement.getAttribute('data-id');\n  }\n  ingredients = JSON.parse(localStorage.getItem('favorites'));\n  renderMarkupCardIng(page, 6, ingredients, ingredientsGallery, listPag);\n  if (!ingredients.length) {\n    location.reload();\n  }\n}\n\n(() => {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.js-open-menu');\n  const closeMenuBtn = document.querySelector('.js-close-menu');\n\n  const toggleMenu = () => {\n    const isMenuOpen =\n      openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.classList.toggle('is-open');\n\n    const scrollLockMethod = !isMenuOpen\n      ? 'disableBodyScroll'\n      : 'enableBodyScroll';\n    bodyScrollLock[scrollLockMethod](document.body);\n  };\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n  closeMenuBtn.addEventListener('click', toggleMenu);\n\n  window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n    bodyScrollLock.enableBodyScroll(document.body);\n  });\n})();\n\n// async function getIngredientsFromAPI() {\n\n","import { createPagination } from './main/pagination/pagination.js';\n\nexport function renderMarkupCardIng(page, cardPerPage, arr, list, listPag) {\n  let firstIndex = (page - 1) * cardPerPage;\n  let lastIndex = firstIndex + cardPerPage;\n  const pageLimit = arr.slice(firstIndex, lastIndex);\n  const totalPages = Math.ceil(arr.length / cardPerPage);\n  createPagination(totalPages, page, arr, list, listPag, renderMarkupCardIng);\n\n  list.innerHTML = pageLimit\n    .map(item => {\n      return `\n    <li class=\"ingredient-card ingredient-dark-card\" data-value=${item._id}>\n      <h2 class=\"ingredient-header favorite-ingredients-dark\">${item.title}</h2>\n      <p class=\"alcoholic-ing alcoholic-dark-ing\">${item.type}</p>\n      <p class=\"ingredient-description favorite-ingredients-dark\">${item.description}</p>\n      <div class=\"ingredient-btns\">\n      <button class=\"ingredient-learn-more-btn favorite-ingredients-dark learn-more-btn add-to-favorites openLearnMore\" data-id=\"${item._id}\">Learn More</button>\n      <button class=\"delete-btn\" data-id=\"${item._id}\">\n        <svg\n              class=\"delete-icon\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 18 18\"\n              fill=\"none\"\n            >\n              <path\n                d=\"M11 4.5V3.9C11 3.05992 11 2.63988 10.8365 2.31901C10.6927 2.03677 10.4632 1.8073 10.181 1.66349C9.86012 1.5 9.44008 1.5 8.6 1.5H7.4C6.55992 1.5 6.13988 1.5 5.81901 1.66349C5.53677 1.8073 5.3073 2.03677 5.16349 2.31901C5 2.63988 5 3.05992 5 3.9V4.5M6.5 8.625V12.375M9.5 8.625V12.375M1.25 4.5H14.75M13.25 4.5V12.9C13.25 14.1601 13.25 14.7902 13.0048 15.2715C12.789 15.6948 12.4448 16.039 12.0215 16.2548C11.5402 16.5 10.9101 16.5 9.65 16.5H6.35C5.08988 16.5 4.45982 16.5 3.97852 16.2548C3.55516 16.039 3.21095 15.6948 2.99524 15.2715C2.75 14.7902 2.75 14.1601 2.75 12.9V4.5\"\n                stroke=\"#FDFDFF\"\n                stroke-width=\"1.5\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n            </svg>\n      </button>\n      </div>\n    </li>\n  `;\n    })\n    .join('');\n}\n"],"names":["$6NpaF","parcelRequire","$aaRFF","$7406f4e6957bfce5$export$ee1a119903c0728a","page","cardPerPage","arr","list","listPag","firstIndex","lastIndex","pageLimit","slice","totalPages","Math","ceil","length","createPagination","innerHTML","map","item","concat","_id","title","type","description","join","$8c41c1e1bb95857d$var$notFoundContainer","document","querySelector","$8c41c1e1bb95857d$var$ingredientsGallery","$8c41c1e1bb95857d$var$listPag","$8c41c1e1bb95857d$var$bodyEl","body","$8c41c1e1bb95857d$var$colorSwitcher","getElementById","localStorage","getItem","checked","classList","toggle","add","addEventListener","setItem","mobileMenu","openMenuBtn","closeMenuBtn","toggleMenu","$8c41c1e1bb95857d$var$ingredients","JSON","parse","remove","event","targetElement","target","contains","closest","ingredientId","getAttribute","selectedIngredient","find","ingredient","addToFavorites","ingredientId1","selectedIngredientIndex","findIndex","ingredientsHasElem","removeFromFavoritesByIndex","location","reload","isMenuOpen","setAttribute","bodyScrollLock","window","matchMedia","e","matches","enableBodyScroll"],"version":3,"file":"favorite-ingredients.9c38e13c.js.map"}